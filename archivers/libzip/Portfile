PortSystem      1.0

name            libzip
version         1.2.0
categories      archivers
license         BSD
platforms       darwin
maintainers     nomaintainer
description     libzip is a C library for reading, creating, and modifying zip archives.
long_description This is a C library for reading, creating, and modifying zip archives.\
    Files can be added from data buffers, files, or compressed data  \
    copied directly from other zip archives. Changes made without \
    closing the archive can be reverted. 
homepage        http://www.nih.at/libzip/
master_sites    ${homepage}
use_xz          yes

checksums       rmd160  1f4f6c7587a960e6cfe872ee0977cb23a3cc7abe \
                sha256  ffc0764395fba3d45dc5a6e32282788854618b9e9838337f8218b596007f1376

depends_build   port:coreutils
depends_lib     port:zlib

test.run        yes
test.target     check

configure.args-append \
                --disable-dependency-tracking

livecheck.type  regex
livecheck.regex ${name}-(\[0-9.\]+)\\.tar



##############
PortGroup       preserve_runtime_libraries 1.0

post-destroot {
    preserve_libraries ${prefix}/lib "libzip.*.dylib libzip.so.*"
}
