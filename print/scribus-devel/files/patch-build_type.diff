diff --git a/CMakeLists.txt b/CMakeLists.txt
index 305e11b06797f209999e5d64463803ba2873e285..925fc59d5d20396856cb83ce3fe830ad96644d4b 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -448,7 +451,7 @@ endif()
 if (WANT_RELEASEWITHDEBUG)
 	set(CMAKE_BUILD_TYPE RelWithDebInfo)
 endif()
-if(NOT WANT_DEBUG AND NOT WANT_RELEASEWITHDEBUG)
+if(NOT CMAKE_BUILD_TYPE AND NOT WANT_DEBUG AND NOT WANT_RELEASEWITHDEBUG)
 	set(CMAKE_BUILD_TYPE RELEASE)
 endif()
 
